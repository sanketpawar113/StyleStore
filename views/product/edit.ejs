<%- layout("/layouts/boilerplate") %>

<div class="container py-4">

  <div class="col-md-6 mx-auto">

    <div class="card shadow p-4">

      <h3 class="mb-3 text-center">Edit Product</h3>

      <form action="/products/<%= product._id %>?_method=PUT" method="POST" enctype="multipart/form-data">
        
        <!-- TITLE -->
        <div class="mb-3">
          <label class="form-label fw-bold">Title</label>
          <input type="text" name="title" value="<%= product.title %>" class="form-control" required>
        </div>

        <!-- PRICE -->
        <div class="mb-3">
          <label class="form-label fw-bold">Price (â‚¹)</label>
          <input type="number" name="price" value="<%= product.price %>" class="form-control" required>
        </div>

        <!-- CATEGORY -->
        <div class="mb-3">
          <label class="form-label fw-bold">Category</label>
          <input type="text" name="category" value="<%= product.category %>" class="form-control" required>
        </div>

        <!-- CURRENT IMAGE -->
        <div class="mb-3">
          <label class="form-label fw-bold">Current Image</label><br>
          <img src="<%= product.image.url %>" class="img-thumbnail mb-2" style="max-width: 160px;">
        </div>

        <!-- NEW IMAGE UPLOAD -->
        <div class="mb-3">
          <label class="form-label fw-bold">Upload New Image (Optional)</label>
          <input type="file" name="image" accept="image/*" class="form-control">
        </div>

        <!-- DESCRIPTION -->
        <div class="mb-3">
          <label class="form-label fw-bold">Description</label>
          <textarea name="description" class="form-control" rows="3" required><%= product.description %></textarea>
        </div>

        <!-- STOCK -->
        <div class="mb-3">
          <label class="form-label fw-bold">Stock</label>
          <input type="number" name="stock" value="<%= product.stock %>" class="form-control" required>
        </div>

        <!-- SUBMIT -->
        <button class="btn btn-dark w-100">Update Product</button>

      </form>

    </div>

  </div>

</div>
